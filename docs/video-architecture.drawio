<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36" version="29.5.6">
  <diagram id="video-editor-architecture" name="Video Editor Architecture">
    <mxGraphModel dx="1722" dy="938" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="950" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;fontSize=24;fontStyle=1;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;" value="视频编辑器双模式架构" vertex="1">
          <mxGeometry height="40" width="400" x="500" y="20" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;endArrow=classic;endFill=1;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="175" as="sourcePoint" />
            <mxPoint x="400" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow1_label" parent="1" style="text;html=1;fontSize=11;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;fontColor=#666666;" value="导出时调用" vertex="1">
          <mxGeometry height="20" width="80" x="410" y="200" as="geometry" />
        </mxCell>
        <mxCell id="arrow2" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;endArrow=classic;endFill=1;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1000" y="175" as="sourcePoint" />
            <mxPoint x="1000" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2_label" parent="1" style="text;html=1;fontSize=11;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;fontColor=#666666;" value="实时预览" vertex="1">
          <mxGeometry height="20" width="70" x="1010" y="200" as="geometry" />
        </mxCell>
        <mxCell id="arrow3" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#E65100;endArrow=classic;endFill=1;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="370" as="sourcePoint" />
            <mxPoint x="280" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3_label" parent="1" style="text;html=1;fontSize=11;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;fontColor=#E65100;" value="mode=&#39;ffmpeg&#39;" vertex="1">
          <mxGeometry height="20" width="100" x="290" y="395" as="geometry" />
        </mxCell>
        <mxCell id="arrow4" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565C0;endArrow=classic;endFill=1;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="520" y="370" as="sourcePoint" />
            <mxPoint x="520" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow4_label" parent="1" style="text;html=1;fontSize=11;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;fontColor=#1565C0;" value="mode=&#39;webav&#39;" vertex="1">
          <mxGeometry height="20" width="100" x="530" y="395" as="geometry" />
        </mxCell>
        <mxCell id="arrow5" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7B68EE;endArrow=classic;endFill=1;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="780" />
            </Array>
            <mxPoint x="700" y="780" as="sourcePoint" />
            <mxPoint x="520" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow6" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7B68EE;endArrow=classic;endFill=1;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1000" y="780" />
            </Array>
            <mxPoint x="700" y="780" as="sourcePoint" />
            <mxPoint x="1000" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow_shared_label" parent="1" style="text;html=1;fontSize=11;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;fontColor=#7B68EE;" value="共享着色器" vertex="1">
          <mxGeometry height="20" width="80" x="730" y="752.5" as="geometry" />
        </mxCell>
        <mxCell id="ui_layer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#333333;fillColor=#E8F4FD;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="105" width="1160" x="120" y="70" as="geometry" />
        </mxCell>
        <mxCell id="ui_layer_title" parent="1" style="text;html=1;fontSize=14;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#333333;" value="UI 层" vertex="1">
          <mxGeometry height="25" width="80" x="140" y="80" as="geometry" />
        </mxCell>
        <mxCell id="video_editor_vue" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#4A90D9;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="VideoEditor/index.vue" vertex="1">
          <mxGeometry height="45" width="160" x="150" y="110" as="geometry" />
        </mxCell>
        <mxCell id="effects_panel" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#4A90D9;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="EffectsPanel&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;(效果面板)&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="100" x="330" y="110" as="geometry" />
        </mxCell>
        <mxCell id="timeline" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#4A90D9;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="TimeLine&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;(时间轴)&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="100" x="450" y="110" as="geometry" />
        </mxCell>
        <mxCell id="ui_features" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#666666;" value="• 模式选择界面&lt;br&gt;• 滤镜参数控制&lt;br&gt;• 导出进度显示" vertex="1">
          <mxGeometry height="55" width="120" x="570" y="105" as="geometry" />
        </mxCell>
        <mxCell id="video_preview_ui" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#7B68EE;fillColor=#EDE7F6;fontFamily=Noto Sans SC;fontSize=12;" value="VideoPreview&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;(WebGL 预览)&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="110" x="940" y="110" as="geometry" />
        </mxCell>
        <mxCell id="preview_features" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#666666;" value="• video.playbackRate 倍速预览&lt;br&gt;• WebGL 滤镜实时渲染" vertex="1">
          <mxGeometry height="55" width="180" x="1060" y="105" as="geometry" />
        </mxCell>
        <mxCell id="api_layer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#333333;fillColor=#FFF3E0;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="120" width="560" x="120" y="250" as="geometry" />
        </mxCell>
        <mxCell id="api_layer_title" parent="1" style="text;html=1;fontSize=14;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#333333;" value="视频处理抽象层 (package/Video)" vertex="1">
          <mxGeometry height="25" width="280" x="140" y="260" as="geometry" />
        </mxCell>
        <mxCell id="video_editor_class" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#FF9800;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="VideoEditor&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;(抽象层)&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="100" x="150" y="295" as="geometry" />
        </mxCell>
        <mxCell id="video_wrapper" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#FF9800;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="VideoWrapper&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;(接口定义)&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="100" x="270" y="295" as="geometry" />
        </mxCell>
        <mxCell id="video_types" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#FF9800;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="types.ts&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;VideoFilterOptions&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="110" x="390" y="295" as="geometry" />
        </mxCell>
        <mxCell id="filters_cpu" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#FF9800;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="filters.ts&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;CPU 回退&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="90" x="520" y="295" as="geometry" />
        </mxCell>
        <mxCell id="preview_layer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#7B68EE;fillColor=#EDE7F6;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="180" width="460" x="820" y="250" as="geometry" />
        </mxCell>
        <mxCell id="preview_layer_title" parent="1" style="text;html=1;fontSize=14;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#512DA8;" value="实时预览层 (WebGL)" vertex="1">
          <mxGeometry height="25" width="180" x="840" y="260" as="geometry" />
        </mxCell>
        <mxCell id="webgl_renderer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#7B68EE;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="WebGLRenderer.ts&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;(预览渲染器)&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="120" x="850" y="295" as="geometry" />
        </mxCell>
        <mxCell id="preview_desc" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#666666;" value="• HTMLVideoElement 输入&lt;br&gt;• requestAnimationFrame 渲染&lt;br&gt;• 滤镜参数实时更新" vertex="1">
          <mxGeometry height="60" width="180" x="990" y="290" as="geometry" />
        </mxCell>
        <mxCell id="preview_flow" parent="1" style="text;html=1;fontSize=11;fontFamily=Noto Sans SC;align=center;verticalAlign=middle;fontColor=#512DA8;fontStyle=2;" value="预览流程：Video → WebGL Shader → Canvas" vertex="1">
          <mxGeometry height="25" width="280" x="850" y="360" as="geometry" />
        </mxCell>
        <mxCell id="preview_note" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#666666;fontStyle=2;" value="倍速：直接修改 video.playbackRate&lt;br&gt;滤镜：WebGL 实时渲染，无延迟" vertex="1">
          <mxGeometry height="35" width="250" x="850" y="390" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_engine" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#E65100;fillColor=#FFF3E0;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="240" width="280" x="120" y="440" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_title" parent="1" style="text;html=1;fontSize=14;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#E65100;" value="FFmpeg 模式" vertex="1">
          <mxGeometry height="25" width="120" x="140" y="450" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_badge" parent="1" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#E65100;fillColor=#FFCC80;fontFamily=Noto Sans SC;fontSize=10;" value="WebAssembly" vertex="1">
          <mxGeometry height="25" width="90" x="290" y="450" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_wrapper" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#E65100;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="FFmpegWrapper" vertex="1">
          <mxGeometry height="40" width="120" x="150" y="485" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_deps" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#666666;" value="依赖：&lt;br&gt;• @ffmpeg/ffmpeg&lt;br&gt;• @ffmpeg/core-mt (多线程)&lt;br&gt;• @ffmpeg/util" vertex="1">
          <mxGeometry height="60" width="180" x="150" y="535" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_filter" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#FFCC80;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=10;align=left;spacingLeft=8;" value="滤镜实现：FFmpeg eq 滤镜&lt;br&gt;&lt;font style=&quot;font-size:9px&quot;&gt;eq=contrast=...:saturation=...&lt;br&gt;:gamma_r=...:gamma_b=...&lt;/font&gt;" vertex="1">
          <mxGeometry height="55" width="180" x="150" y="600" as="geometry" />
        </mxCell>
        <mxCell id="ffmpeg_note" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#E65100;fontStyle=2;" value="特点：兼容性好，需预加载核心文件" vertex="1">
          <mxGeometry height="20" width="230" x="150" y="660" as="geometry" />
        </mxCell>
        <mxCell id="webav_engine" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#1565C0;fillColor=#E3F2FD;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="240" width="280" x="420" y="440" as="geometry" />
        </mxCell>
        <mxCell id="webav_title" parent="1" style="text;html=1;fontSize=14;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#1565C0;" value="WebAV 模式" vertex="1">
          <mxGeometry height="25" width="120" x="440" y="450" as="geometry" />
        </mxCell>
        <mxCell id="webav_badge" parent="1" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#1565C0;fillColor=#90CAF9;fontFamily=Noto Sans SC;fontSize=10;" value="WebCodecs" vertex="1">
          <mxGeometry height="25" width="90" x="580" y="450" as="geometry" />
        </mxCell>
        <mxCell id="webav_wrapper" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#1565C0;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=12;" value="WebAVWrapper" vertex="1">
          <mxGeometry height="40" width="110" x="450" y="485" as="geometry" />
        </mxCell>
        <mxCell id="webgl_filter_renderer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#1565C0;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=11;" value="WebGLFilter&lt;br&gt;Renderer" vertex="1">
          <mxGeometry height="40" width="90" x="575" y="485" as="geometry" />
        </mxCell>
        <mxCell id="webav_deps" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#666666;" value="依赖：&lt;br&gt;• @webav/av-cliper&lt;br&gt;• VideoEncoder / VideoDecoder&lt;br&gt;• 浏览器原生 API" vertex="1">
          <mxGeometry height="60" width="200" x="450" y="535" as="geometry" />
        </mxCell>
        <mxCell id="webav_filter" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#90CAF9;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=10;align=left;spacingLeft=8;" value="滤镜实现：WebGL 着色器&lt;br&gt;&lt;font style=&quot;font-size:9px&quot;&gt;与预览使用相同 shader&lt;br&gt;确保效果完全一致&lt;/font&gt;" vertex="1">
          <mxGeometry height="55" width="180" x="450" y="600" as="geometry" />
        </mxCell>
        <mxCell id="webav_note" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#1565C0;fontStyle=2;" value="特点：硬件加速，无需预加载，Chrome 94+" vertex="1">
          <mxGeometry height="20" width="250" x="450" y="660" as="geometry" />
        </mxCell>
        <mxCell id="shaders_box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#7B68EE;fillColor=#EDE7F6;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="110" width="580" x="120" y="740" as="geometry" />
        </mxCell>
        <mxCell id="shaders_title" parent="1" style="text;html=1;fontSize=14;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#512DA8;" value="统一着色器 (shaders.ts)" vertex="1">
          <mxGeometry height="25" width="200" x="140" y="750" as="geometry" />
        </mxCell>
        <mxCell id="vertex_shader" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#7B68EE;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=11;" value="VERTEX_SHADER&lt;br&gt;&lt;font style=&quot;font-size:9px&quot;&gt;纹理坐标传递&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="110" x="150" y="785" as="geometry" />
        </mxCell>
        <mxCell id="fragment_shader" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#7B68EE;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=11;" value="FRAGMENT_SHADER&lt;br&gt;&lt;font style=&quot;font-size:9px&quot;&gt;滤镜算法&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="110" x="280" y="785" as="geometry" />
        </mxCell>
        <mxCell id="filter_params" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#7B68EE;fillColor=#FFFFFF;fontFamily=Noto Sans SC;fontSize=11;" value="FilterParams&lt;br&gt;&lt;font style=&quot;font-size:9px&quot;&gt;参数接口&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="100" x="410" y="785" as="geometry" />
        </mxCell>
        <mxCell id="shader_desc" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=middle;fontColor=#666666;fontStyle=2;" value="预览 + WebAV 导出共享，确保效果一致" vertex="1">
          <mxGeometry height="25" width="250" x="530" y="795" as="geometry" />
        </mxCell>
        <mxCell id="flow_box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#999999;fillColor=#FAFAFA;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="200" width="460" x="820" y="480" as="geometry" />
        </mxCell>
        <mxCell id="flow_title" parent="1" style="text;html=1;fontSize=13;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#333333;" value="数据流说明" vertex="1">
          <mxGeometry height="25" width="100" x="840" y="490" as="geometry" />
        </mxCell>
        <mxCell id="flow_preview" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#512DA8;" value="&lt;b&gt;实时预览流程：&lt;/b&gt;&lt;br&gt;滑块调整 → Vue 状态更新 → WebGL uniform 更新 → Canvas 重绘&lt;br&gt;（无视频处理，即时生效）" vertex="1">
          <mxGeometry height="50" width="420" x="840" y="520" as="geometry" />
        </mxCell>
        <mxCell id="flow_export_ffmpeg" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#E65100;" value="&lt;b&gt;FFmpeg 导出流程：&lt;/b&gt;&lt;br&gt;点击导出 → FFmpeg 加载 → 写入虚拟 FS → 执行滤镜命令 → 输出 Blob" vertex="1">
          <mxGeometry height="45" width="420" x="840" y="575" as="geometry" />
        </mxCell>
        <mxCell id="flow_export_webav" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#1565C0;" value="&lt;b&gt;WebAV 导出流程：&lt;/b&gt;&lt;br&gt;点击导出 → 逐帧解码 → WebGL 滤镜处理 → 重新编码 → 输出 Blob" vertex="1">
          <mxGeometry height="45" width="420" x="840" y="625" as="geometry" />
        </mxCell>
        <mxCell id="legend_box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;strokeColor=#999999;fillColor=#FAFAFA;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="110" width="460" x="820" y="740" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" parent="1" style="text;html=1;fontSize=12;fontStyle=1;fontFamily=Noto Sans SC;align=left;verticalAlign=top;fontColor=#333333;" value="图例" vertex="1">
          <mxGeometry height="20" width="60" x="840" y="750" as="geometry" />
        </mxCell>
        <mxCell id="legend_ffmpeg" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#E65100;fillColor=#FFF3E0;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="20" width="20" x="840" y="780" as="geometry" />
        </mxCell>
        <mxCell id="legend_ffmpeg_text" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=middle;fontColor=#333333;" value="FFmpeg (WebAssembly)" vertex="1">
          <mxGeometry height="20" width="140" x="870" y="780" as="geometry" />
        </mxCell>
        <mxCell id="legend_webav" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#1565C0;fillColor=#E3F2FD;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="20" width="20" x="840" y="810" as="geometry" />
        </mxCell>
        <mxCell id="legend_webav_text" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=middle;fontColor=#333333;" value="WebAV (WebCodecs)" vertex="1">
          <mxGeometry height="20" width="140" x="870" y="810" as="geometry" />
        </mxCell>
        <mxCell id="legend_webgl" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#7B68EE;fillColor=#EDE7F6;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="20" width="20" x="1040" y="780" as="geometry" />
        </mxCell>
        <mxCell id="legend_webgl_text" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=middle;fontColor=#333333;" value="WebGL 渲染" vertex="1">
          <mxGeometry height="20" width="100" x="1070" y="780" as="geometry" />
        </mxCell>
        <mxCell id="legend_api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=#FF9800;fillColor=#FFF3E0;fontFamily=Noto Sans SC;" value="" vertex="1">
          <mxGeometry height="20" width="20" x="1040" y="810" as="geometry" />
        </mxCell>
        <mxCell id="legend_api_text" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=left;verticalAlign=middle;fontColor=#333333;" value="抽象 API 层" vertex="1">
          <mxGeometry height="20" width="100" x="1070" y="810" as="geometry" />
        </mxCell>
        <mxCell id="version" parent="1" style="text;html=1;fontSize=10;fontFamily=Noto Sans SC;align=right;verticalAlign=bottom;fontColor=#999999;" value="v1.4.0 | 2026-02-27" vertex="1">
          <mxGeometry height="20" width="130" x="1150" y="870" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
